/* *********************************************** Program iniciates with the parameter:* Help:* SuperWavApp -h** As a Server:* SuperWavApp -S -P PortNumber** As a Client:* SuperWavApp -C -IP IPDirecction -P PortNumber* *********************************************** */#include <stdio.h>#include "./lib/connection.h"/* *********************************************** Parent: reads from P1_READ, writes on P1_WRITE* Child:  reads from P2_READ, writes on P2_WRITE* *********************************************** */#define P1_READ     0#define P2_WRITE    1#define P2_READ     2#define P1_WRITE    3/* **********************************************The total number of pipe *pairs* we need* *********************************************** */#define NUM_PIPES   2char *IP = NULL;int portNumber = NULL; int main(int argc, char *argv[]) {    if (argc < 2) {        printf("Wrong use of the program! "                "For help use -h option.\n");        exit(-1);    }    /*For Help*/    if ( (argc == 2) && ( strcmp(argv[1], "-h") == 0 ) ) {        printf("To use the program:\n"                "As a Server:\n"                "SuperWavApp -S -P <PortNumber>\n"                "\n"                "As a Client:\n"                "SuperWavApp -C -IP <IPDirecction> -P <PortNumber>\n");        exit(0);    }    /*If Server*/    if ( (argc >= 3) && ( strcmp(argv[1], "-S") == 0 ) ) {        if ( (argc == 4) && ( strcmp(argv[2], "-P") == 0) ) {            portNumber = atoi(argv[3]);            printf("Port Number: %d\n",portNumber);            /****************************************/            /*Server Scocket iniciación and configuration*/            serverConnection(portNumber);            ServerConnection server = startConfigurationServer(portNumber);            /****************************************/        }        else {            printf("Wrong use of the program! "                    "For help use -h option.\n"                    "SuperWavApp -S -P <PortNumber>\n");            exit(-1);        }    }    /*If Client*/    if (( argc >= 3) && ( strcmp(argv[1], "-C") == 0) ) {        if ( (argc == 6) && ( strcmp(argv[2],"-IP") == 0) && (strcmp(argv[4], "-P") == 0) ) {            IP = argv[3];            printf("IP Direction: %s\n",IP);            portNumber = atoi(argv[5]);            printf("Port Number: %d\n",portNumber);            /****************************************/            /*Client Scocket iniciación and configuration*/            ClientConnection client = startConfigurationClient(IP,portNumber);            clientConnection(IP,portNumber);            /****************************************/        }        else {            printf("Wrong use of the program! "                    "For help use -h option.\n"                    "SuperWavApp -C -IP <IPDirecction> -P <PortNumber>\n");            exit(-1);        }    }}